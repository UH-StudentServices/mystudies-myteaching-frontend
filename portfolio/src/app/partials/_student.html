<!--
  ~ This file is part of MystudiesMyteaching application.
  ~
  ~ MystudiesMyteaching application is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU General Public License as published by
  ~ the Free Software Foundation, either version 3 of the License, or
  ~ (at your option) any later version.
  ~
  ~ MystudiesMyteaching application is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU General Public License for more details.
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with MystudiesMyteaching application.  If not, see <http://www.gnu.org/licenses/>.
-->

<div class="l-multi-col-content-wrapper">
  <div class="l-content-primary-wrapper ">
    <div class="portfolio-components__dropzone"
         ng-model="portfolioSections"
         as-sortable="sortableOptions"
         is-disabled="sectionSortDisabled"
         ng-class="{'drag-disabled': sectionSortDisabled}">
      <section ng-repeat="section in portfolioSections"
               as-sortable-item>
        <div as-sortable-item-handle
             ng-switch on="section.component">
          <div ng-switch-when="STUDIES">
            <studies limit-visibility="{componentId: 'STUDIES'}"
                     summary-data="portfolio.summary"
                     portfolio-id="{{::portfolio.id}}"
                     portfolio-lang="{{::portfolio.lang}}">
            </studies>
          </div>

          <div ng-switch-when="DEGREES">
            <degrees limit-visibility="{componentId: 'DEGREES'}"
                     degrees-data="portfolio.degrees"
                     portfolio-id="{{::portfolio.id}}"
                     portfolio-lang="{{::portfolio.lang}}">
            </degrees>
          </div>

          <div ng-switch-when="WORK_EXPERIENCE">
            <work-experience limit-visibility="{componentId: 'WORK_EXPERIENCE'}"
                             work-experience-data="portfolio.workExperience"
                             portfolio-id="{{::portfolio.id}}"
                             portfolio-lang="{{::portfolio.lang}}">
            </work-experience>
          </div>

          <div ng-switch-when="SAMPLES">
            <samples limit-visibility="{componentId: 'SAMPLES'}"
                     samples-data="portfolio.samples"
                     portfolio-id="{{::portfolio.id}}"
                     portfolio-lang="{{::portfolio.lang}}">
            </samples>
          </div>

          <div ng-switch-when="FREE_TEXT_CONTENT">
            <free-text-content limit-visibility="{componentId: 'FREE_TEXT_CONTENT',
                                                  instanceName: section.instanceName}"
                               instance-name="{{section.instanceName}}"
                               deletable="true">
            </free-text-content>
          </div>

          <div ng-switch-when="ATTAINMENTS">
            <attainments limit-visibility="{componentId: 'ATTAINMENTS'}"
                         portfolio-id="{{::portfolio.id}}"
                         portfolio-lang="{{::portfolio.lang}}">
            </attainments>
          </div>

          <div ng-switch-when="LANGUAGE_PROFICIENCIES">
            <language-proficiencies limit-visibility="{componentId: 'LANGUAGE_PROFICIENCIES'}"
                                    language-proficiencies-data="portfolio.languageProficiencies"
                                    portfolio-lang="{{::portfolio.lang}}">
            </language-proficiencies>
          </div>

          <div ng-switch-when="FAVORITES">
            <favorites limit-visibility="{componentId: 'FAVORITES'}"
                       favorites-data="portfolio.favorites"
                       portfolio-lang="{{::portfolio.lang}}">
            </favorites>
          </div>
        </div>
      </section>
    </div>

    <add-free-text-content></add-free-text-content>
  </div>

  <div class="l-content-secondary-wrapper">
    <credits limit-visibility="{componentId: 'CREDITS'}"
             portfolio-id="{{::portfolio.id}}"
             portfolio-lang="{{::portfolio.lang}}">
    </credits>

    <contact-information limit-visibility="{componentId: 'CONTACT_INFORMATION'}"
                         contact-information-data="portfolio.contactInformation"
                         owner-name="{{::portfolio.ownerName}}"
                         portfolio-id="{{::portfolio.id}}"
                         portfolio-lang="{{::portfolio.lang}}">
    </contact-information>
  </div>
</div>
