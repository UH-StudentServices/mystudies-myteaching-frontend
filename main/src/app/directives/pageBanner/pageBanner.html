<!--
  ~ This file is part of MystudiesMyteaching application.
  ~
  ~ MystudiesMyteaching application is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU General Public License as published by
  ~ the Free Software Foundation, either version 3 of the License, or
  ~ (at your option) any later version.
  ~
  ~ MystudiesMyteaching application is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU General Public License for more details.
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with MystudiesMyteaching application.  If not, see <http://www.gnu.org/licenses/>.
-->

<div class="page-banner" ng-class="{'page-banner--open': showBanner}">
  <div ng-if="showBanner" class="page-banner--visible">
    <div class="page-banner__banner-input-container">
      <todo-items limit-visibility="['MY_STUDIES_ONLY']" class="todo-items--banner"></todo-items>
      <office-hours limit-visibility="['MY_TEACHINGS_ONLY']" class="office-hours--banner"></office-hours>
    </div>
    <div class="page-banner--pager"></div>
    <h2 class="visually-hidden">{{:: ('banner.news' | translate) }}</h2>
    <flex-slider slide="news in newsList track by $index"
                 direction-nav="false"
                 controls-container=".page-banner--pager"
                 slideshow-speed="14000"
                 class="controls-visible">
      <li>
        <div class="page-banner__news-item-container">
          <div class="page-banner__news-item">
            <h3 class="hide-mobile-only ui-component__title page-banner__title" ng-bind="news.title" data-ellipsis></h3>
            <h3 class="show-mobile-only ui-component__title page-banner__title" ng-bind="news.title" data-ellipsis></h3>
            <p class="page-banner__text" ng-bind="news.content" data-ellipsis></p>
            <ul class="list-of-links">
              <li>
                <a href="{{ news.url }}"
                   target="_blank"
                   class="list-of-links__link button--action icon--arrow-right"
                   analytics-event="{
                     eventCategory: 'PAGE_BANNER',
                     eventAction: 'CLICK',
                     value: news.url
                   }"><span translate="pageBanner.newsButtonLabel"></span></a>
              </li>
            </ul>
          </div>
        </div>
      </li>
    </flex-slider>
    <user-background></user-background>
  </div>
  <page-banner-toggle show-banner="showBanner"></page-banner-toggle>
</div>
