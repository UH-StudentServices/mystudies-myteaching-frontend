<!--
  ~ This file is part of MystudiesMyteaching application.
  ~
  ~ MystudiesMyteaching application is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU General Public License as published by
  ~ the Free Software Foundation, either version 3 of the License, or
  ~ (at your option) any later version.
  ~
  ~ MystudiesMyteaching application is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU General Public License for more details.
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with MystudiesMyteaching application.  If not, see <http://www.gnu.org/licenses/>.
  -->

<div dropdown class="user-settings" close-callback="resetMenu()">
    <div class="dropdown-toggle">
        <a
                href=""
                class="user-menu__actions--action"
                ng-class="{active : showMenu}"
                aria-label="{{ 'userSettings.title' | translate }}"
                role="button">

            <avatar-image class="user-avatar__small" img-src="session.avatarUrl" img-alt="session.name"></avatar-image>
        </a>
    </div>
    <div role="menu" class="user-settings__menu dropdown-content">
        <ul>
            <li class="divider change-avatar" role="menuitem">
                <avatar></avatar>
            </li>
            <li class="divider-with-margin" role="menuitem" ng-show="session.faculty">
                <a href="{{ session.faculty.uri }}" target="_blank"><i class="hy hy-units-and-faculties"></i>{{ "faculties." + session.faculty.code | translate }}</a>
            </li>
            <li only-dev class="divider-with-margin" role="menuitem">
                <a href="" ng-click="openPortfolio()"><i class="hy hy-profile"></i>{{'userSettings.portfolio' | translate | capitalize}}</a>
            </li>

            <li class="divider-with-margin" role="menuitem" ng-show="changeStateTo">
                <a href="" state-change ng-click="changeState(changeStateTo)"><i class="hy hy-avatar"></i>{{ changeStateTo + ".pageHeaderBranding" | translate }}</a>
            </li>

            <li admin-role-only session="session" class="divider-with-margin" role="menuitem">
                <a href="#/admin"><i class="hy hy-modify"></i>{{'admin.pageHeaderBranding' | translate }}</a>
            </li>
        </ul>
    </div>
</div>